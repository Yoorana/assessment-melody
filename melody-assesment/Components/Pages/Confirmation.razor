@page "/confirmation"
@inject NavigationManager NavManager
@rendermode InteractiveServer

<PageTitle>Confirm Shipment</PageTitle>

<div class="confirmation-container">
    <h1 class="confirmation-title">Confirm Shipment</h1>

    <div class="confirmation-card">
        <div class="confirmation-details">
            <div class="confirmation-row">
                <span class="confirmation-label">Origin:</span>
                <span class="confirmation-value">@Origin</span>
            </div>
            <div class="confirmation-row">
                <span class="confirmation-label">Destination:</span>
                <span class="confirmation-value">@Destination</span>
            </div>
            <div class="confirmation-row">
                <span class="confirmation-label">Chosen Carrier:</span>
                <span class="confirmation-value">@Carrier</span>
            </div>
            <div class="confirmation-row">
                <span class="confirmation-label">Delivery date:</span>
                <span class="confirmation-value">@(TravelDate == default ? "" : TravelDate.ToString("dddd, d MMMM yyyy"))</span>
            </div>
        </div>
        <div class="confirmation-actions">
            <button class="back-btn" @onclick="GoBack">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" stroke="#70CAB9" stroke-width="2" viewBox="0 0 24 24">
                    <path d="M15 18l-6-6 6-6"/>
                </svg>
                Back
            </button>
            <button class="confirm-btn">Confirm Shipment</button>
        </div>
    </div>
</div>

@code {
    [Parameter, SupplyParameterFromQuery] public string Origin { get; set; } = string.Empty;
    [Parameter, SupplyParameterFromQuery] public string Destination { get; set; } = string.Empty;
    [Parameter, SupplyParameterFromQuery] public string Carrier { get; set; } = string.Empty;
    [Parameter, SupplyParameterFromQuery] public DateTime TravelDate { get; set; }
    private void GoBack()
    {
        var url =
        $"information?origin={Uri.EscapeDataString(Origin)}&destination={Uri.EscapeDataString(Destination)}&carrier={Uri.EscapeDataString(Carrier)}&travelDate={TravelDate:yyyy-MM-dd}";
        NavManager.NavigateTo(url);
    }
}